<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Laxoria Social</title>
<style>
body{margin:0;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:#fff;color:#333;}
header{background:#fff;padding:20px;text-align:center;box-shadow:0 2px 5px rgba(0,0,0,0.08);}
header h1{font-family:'Brush Script MT',cursive;font-size:48px;background:linear-gradient(to right,#A8E6CF,#C39BD3,#FF6F91);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0;}
section{padding:18px;margin-bottom:10px;display:none;max-width:900px;margin-left:auto;margin-right:auto;}
.active{display:block;}
.nav{position:fixed;bottom:0;left:0;right:0;width:100%;background:white;display:flex;justify-content:space-around;padding:10px 0;box-shadow:0 -2px 6px rgba(0,0,0,0.06);}
.nav button{background:none;border:none;font-size:24px;cursor:pointer;background:linear-gradient(to right,#A8E6CF,#C39BD3,#FF6F91);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.stories{display:flex;overflow-x:auto;gap:12px;margin-bottom:12px;}
.story{position:relative;width:70px;height:70px;border-radius:50%;padding:3px;cursor:pointer;display:flex;align-items:center;justify-content:center;
background:conic-gradient(#A8E6CF,#C39BD3,#FF6F91,#A8E6CF);}
.story img{border-radius:50%;width:64px;height:64px;object-fit:cover;}
.feed .post{background:#fff;padding:12px;border-radius:12px;margin-bottom:10px;box-shadow:0 1px 4px rgba(0,0,0,0.06);}
.post img,.post video{border-radius:10px;width:100%;max-height:420px;object-fit:cover;margin-top:8px;}
.profile-header{display:flex;align-items:center;gap:12px;background:linear-gradient(to right,#A8E6CF,#C39BD3,#FF6F91);padding:12px;border-radius:30px;}
.profile-header img{width:80px;height:80px;border-radius:50%;border:3px solid #fff;}
.profile-header .info{color:#fff;}
.profile-header .info h3{margin:0;font-size:20px;}
.profile-header .info p{margin:0;font-size:14px;opacity:0.9;}
.profile-tabs{display:flex;gap:10px;margin-top:12px;overflow-x:auto;}
.profile-tabs button{flex:1;padding:8px 12px;border:none;border-radius:12px;background:#f0f0f0;cursor:pointer;}
.profile-tabs button.active{background:linear-gradient(to right,#A8E6CF,#C39BD3,#FF6F91);color:#fff;}
.tab-content{margin-top:12px;}
input[type="text"],input[type="email"],input[type="password"],select{width:100%;padding:10px;border-radius:8px;border:1px solid #e0e0e0;margin-bottom:10px;}
.btn{padding:8px 12px;border:none;border-radius:8px;cursor:pointer;margin-right:6px;font-weight:600;background:linear-gradient(to right,#A8E6CF,#C39BD3,#FF6F91);color:white;}
</style>
</head>
<body>
<!-- Login Page -->
<section id="login" class="active">
<h2 id="loginHeader">Login</h2>
<input id="email" type="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">
<div style="display:flex;gap:8px;">
<button class="btn" onclick="login()">Login</button>
<button class="btn" onclick="register()">Register</button>
</div>
<p id="loginStatus"></p>
</section>

<!-- Home Page -->
<section id="home">
<h2>Home</h2>
<div class="stories" id="stories"></div>
<div class="feed" id="feed"></div>
</section>

<!-- Profile Page -->
<section id="profile">
<div class="profile-header">
<img id="profilePic" src="https://via.placeholder.com/80">
<div class="info">
<h3 id="profileName">Username</h3>
<p id="profileHandle">@handle</p>
</div>
</div>

<div class="profile-tabs">
<button class="active" onclick="showTab('saved')">Saved</button>
<button onclick="showTab('videos')">Videos</button>
<button onclick="showTab('all')">All Posts</button>
</div>

<div class="tab-content" id="tabContent"></div>
</section>

<!-- Nav -->
<div class="nav">
<button onclick="showPage('home')">üè†</button>
<button onclick="showPage('profile')">üë§</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
<script>
const SUPABASE_URL='https://haeptsutgwyplaaozuev.supabase.co';
const SUPABASE_ANON_KEY='.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhhZXB0c3V0Z3d5cGxhYW96dWV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwNzAyNTIsImV4cCI6MjA3MDY0NjI1Mn0.7rEfjIGrTqlVhjCByWF4wirCe3X7JEMo6yGCZob7wOU';
const sb = supabase.createClient(SUPABASE_URL,SUPABASE_ANON_KEY);

let currentUser=null;

function showPage(page){
['login','home','profile'].forEach(id=>document.getElementById(id).classList.remove('active'));
document.getElementById(page).classList.add('active');
}

async function login(){
const email=document.getElementById('email').value.trim();
const password=document.getElementById('password').value;
const status=document.getElementById('loginStatus');
status.textContent='Logging in...';
const { data,error }=await sb.auth.signInWithPassword({email,password});
if(error){status.textContent='Error: '+error.message; return;}
currentUser=data.user;
status.textContent='Logged in!';
showPage('home');
loadStories();
loadFeed();
loadProfile();
}

async function register(){
const email=document.getElementById('email').value.trim();
const password=document.getElementById('password').value;
const status=document.getElementById('loginStatus');
status.textContent='Registering...';
const { data,error }=await sb.auth.signUp({email,password});
if(error){status.textContent='Error: '+error.message; return;}
status.textContent='Registered ‚Äî check email.';
}

// ---------- Stories ----------
function loadStories(){
const stories=document.getElementById('stories'); stories.innerHTML='';
const colors=['#A8E6CF','#FF6F91','#C39BD3'];
for(let i=1;i<=10;i++){
const div=document.createElement('div'); div.className='story';
div.innerHTML=`<img src="https://picsum.photos/64?random=${i}" alt="story">`; stories.appendChild(div);
}
}

// ---------- Feed ----------
function loadFeed(){
const feed=document.getElementById('feed'); feed.innerHTML='';
for(let i=1;i<=5;i++){
const div=document.createElement('div'); div.className='post';
div.innerHTML=`<div><strong>User${i}</strong></div>
<p>Post content ${i}</p>
<img src="https://picsum.photos/300/200?random=${i}" />`;
feed.appendChild(div);
}
}

// ---------- Profile ----------
function loadProfile(){
document.getElementById('profilePic').src='https://picsum.photos/80';
document.getElementById('profileName').textContent='User123';
document.getElementById('profileHandle').textContent='@user123';
showTab('saved');
}

function showTab(tab){
document.querySelectorAll('.profile-tabs button').forEach(b=>b.classList.remove('active'));
document.querySelector(`.profile-tabs button[onclick*="${tab}"]`).classList.add('active');
const content=document.getElementById('tabContent'); content.innerHTML='';
for(let i=1;i<=5;i++){
if(tab==='saved') content.innerHTML+=`<div class="post"><p>Saved Post ${i}</p></div>`;
else if(tab==='videos') content.innerHTML+=`<div class="post"><video controls src="https://www.w3schools.com/html/mov_bbb.mp4"></video></div>`;
else content.innerHTML+=`<div class="post"><p>Post ${i}</p></div>`;
}
}

</script>
</body>
</html>
