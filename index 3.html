<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Laxoria Social</title>
<style>
  body { margin:0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background:white; color:#333;}
  header { background:white; padding:20px; text-align:center; box-shadow:0 2px 5px rgba(0,0,0,0.1);}
  header h1 { 
    font-family: 'Brush Script MT', cursive; 
    font-size:48px; 
    background: linear-gradient(to right, #A8E6CF, #C39BD3, #FF6F91);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin:0;
  }
  section { padding:20px; margin-bottom:10px; display:none;}
  .active { display:block;}
  .nav { position:fixed; bottom:0; width:100%; background:white; display:flex; justify-content:space-around; padding:10px 0; box-shadow:0 -2px 5px rgba(0,0,0,0.1);}
  .nav button { background:none; border:none; font-size:26px; cursor:pointer; background: linear-gradient(to right, #A8E6CF, #C39BD3, #FF6F91); -webkit-background-clip: text; -webkit-text-fill-color: transparent;}
  .stories, .feed { display:flex; overflow-x:auto; gap:10px; }
  .story, .post { background:white; padding:10px; border-radius:10px; min-width:100px; flex-shrink:0; box-shadow:0 1px 3px rgba(0,0,0,0.1);}
  .story img, .post img { border-radius:50%; width:50px; height:50px; }
  .post img, .post video { border-radius:10px; width:100%; margin-top:5px; }
  .profile { background:white; padding:10px; border-radius:10px; box-shadow:0 1px 3px rgba(0,0,0,0.1); }
  .btn { padding:5px 10px; border:none; border-radius:5px; cursor:pointer; margin-right:5px; font-weight:bold; background: linear-gradient(to right, #A8E6CF, #C39BD3, #FF6F91); color:white;}
  input[type="text"] { width:100%; padding:8px; border-radius:5px; border:1px solid #ccc;}
</style>
</head>
<body>
<header>
  <h1>Laxoria</h1>
</header>

<!-- Home Page -->
<section id="home" class="active">
  <h2 style="background: linear-gradient(to right, #A8E6CF, #C39BD3, #FF6F91); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Home</h2>
  <div class="stories" id="stories"></div>
  <div class="feed" id="feed"></div>
</section>

<!-- Messages Page -->
<section id="messages">
  <h2 style="background: linear-gradient(to right, #A8E6CF, #C39BD3, #FF6F91); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Messages</h2>
  <div id="messagesList"></div>
</section>

<!-- Profile Page -->
<section id="profile">
  <h2 style="background: linear-gradient(to right, #A8E6CF, #C39BD3, #FF6F91); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Profile</h2>
  <div class="profile" id="profileInfo"></div>
</section>

<!-- Search Page -->
<section id="search">
  <h2 style="background: linear-gradient(to right, #A8E6CF, #C39BD3, #FF6F91); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Search</h2>
  <input type="text" id="searchInput" placeholder="ÿßÿ®ÿ≠ÿ´ ÿπŸÜ ŸÅŸäÿØŸäŸàŸáÿßÿ™ ÿ£Ÿà ÿ£ÿ¥ÿÆÿßÿµ..."/>
</section>

<!-- Navigation Bar -->
<div class="nav">
  <button onclick="showPage('home')">üè†</button>
  <button onclick="showPage('messages')">üí¨</button>
  <button onclick="showPage('search')">üîç</button>
  <button onclick="showPage('profile')">üë§</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  const SUPABASE_URL = 'https://haeptsutgwyplaaozuev.supabase.co';
  const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhhZXB0c3V0Z3d5cGxhYW96dWV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwNzAyNTIsImV4cCI6MjA3MDY0NjI1Mn0.7rEfjIGrTqlVhjCByWF4wirCe3X7JEMo6yGCZob7wOU';
  const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

  function showPage(pageId){
    const pages = ['home','messages','profile','search'];
    pages.forEach(id => document.getElementById(id).classList.remove('active'));
    document.getElementById(pageId).classList.add('active');
  }

  async function loadPosts(){
    const { data, error } = await supabase.from('Posts').select('*').order('created_at',{ascending:false});
    if(error){ console.error(error); return; }
    const feed = document.getElementById('feed');
    feed.innerHTML = '';
    data.forEach(post => {
      const div = document.createElement('div');
      div.className = 'post';
      div.innerHTML = `<div><strong>User ${post.user_id}</strong></div><p>${post.content}</p>` + 
                      (post.image_url ? `<img src="${post.image_url}"/>`:'') +
                      (post.video_url ? `<video src="${post.video_url}" controls></video>`:'');
      feed.appendChild(div);
    });
  }

  loadPosts();
</script>
</body>
</html>
